2024-09-26 16:23:03,574 - my_logger - INFO - I calculate 10 income deciles for different income data in the city of Madrid
2024-09-26 16:23:03,574 - my_logger - INFO - Timeframe: Normal Week
2024-09-26 16:23:03,574 - my_logger - INFO - I build assortativity matrices for the Renta bruta media por hogar
2024-09-26 16:23:03,574 - my_logger - INFO - The variables for which income deciles are calculared are: ['Media de la renta por unidad de consumo', 'Mediana de la renta por unidad de consumo', 'Renta bruta media por hogar', 'Renta bruta media por persona', 'Renta neta media por hogar', 'Renta neta media por persona ']
2024-09-26 16:23:03,574 - my_logger - INFO - Save figures = False
2024-09-26 16:23:03,574 - my_logger - INFO - Figures path: /Users/caro/Desktop/thesis_project/segregation_indices/figures/week
2024-09-26 16:23:03,574 - my_logger - INFO - Opening data...
2024-09-26 16:23:06,185 - my_logger - INFO - Dataframes used: /Users/caro/Desktop/thesis_project/segregation_indices/data/processed/geometries_and_income.geojson and /Users/caro/Desktop/thesis_project/mobility_data/VIAJES/all_viajes_week_0222.csv
2024-09-26 16:23:06,185 - my_logger - INFO - Shape of the rent dataset: (21, 8)
2024-09-26 16:23:06,185 - my_logger - INFO - Shape of the mobility dataset: (781697, 15)
2024-09-26 16:23:06,185 - my_logger - INFO - 1. Merging mobility and income data
2024-09-26 16:23:06,267 - my_logger - INFO - Variable to calculate matrices on is set to: Renta bruta media por hogar
2024-09-26 16:23:06,268 - my_logger - INFO - 2. Calculating 10 income deciles for the Renta bruta media por hogar data.
2024-09-26 16:23:06,484 - my_logger - INFO - Plotting income deciles
2024-09-26 16:23:07,129 - my_logger - INFO - Income deciles for ['Media de la renta por unidad de consumo', 'Mediana de la renta por unidad de consumo', 'Renta bruta media por hogar', 'Renta bruta media por persona', 'Renta neta media por hogar', 'Renta neta media por persona '] saved!
2024-09-26 16:23:07,129 - my_logger - INFO - Building assortativity matrices...
2024-09-26 16:23:07,174 - my_logger - DEBUG - Encountered an error with pivot(): Index contains duplicate entries, cannot reshape
2024-09-26 16:23:07,174 - my_logger - DEBUG - Switching to pivot_table() to handle duplicates.
2024-09-26 16:23:07,177 - my_logger - INFO - Assortativity matrix created successfully!
2024-09-26 16:23:07,177 - my_logger - INFO - Assortativity matrix normalized successfully!
2024-09-26 16:23:07,258 - my_logger - INFO - Assortativity matrix figures for Renta bruta media por hogar saved successfully!
2024-09-26 16:23:07,260 - my_logger - INFO - Stratifying mobility data by rent...
2024-09-26 16:23:07,260 - my_logger - DEBUG - Put more thought into this, and review
2024-09-26 16:23:07,260 - my_logger - INFO - Plotting assortativity matrices stratified by rent...
2024-09-26 16:23:07,332 - my_logger - INFO - Assortativity matrices for Renta bruta media por hogar saved!
